# =============================================================================
# DUAL AVATAR PLATFORM - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update with your actual values

# =============================================================================
# SHARED SERVICES
# =============================================================================

# MinIO Object Storage
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=changeme_minio_password
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=admin
MINIO_SECRET_KEY=changeme_minio_password
MINIO_BUCKET_NAME=avatar-platform
MINIO_USE_SSL=false

# n8n Workflow Automation
N8N_ENCRYPTION_KEY=changeme_n8n_encryption_key_min_32_chars
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=changeme_n8n_password
N8N_HOST=n8n
N8N_PORT=5678
N8N_PROTOCOL=http

# n8n Database (PostgreSQL)
POSTGRES_N8N_USER=n8n
POSTGRES_N8N_PASSWORD=changeme_n8n_db_password
POSTGRES_N8N_DB=n8n
POSTGRES_N8N_HOST=postgres-n8n
POSTGRES_N8N_PORT=5432

# Prometheus & Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=changeme_grafana_password
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001

# =============================================================================
# MANUAL PLATFORM
# =============================================================================

# Manual Backend
MANUAL_BACKEND_PORT=8080
MANUAL_NODE_ENV=development
MANUAL_JWT_SECRET=changeme_jwt_secret_key_min_32_characters_long
MANUAL_JWT_EXPIRES_IN=7d
MANUAL_API_VERSION=v1
MANUAL_CORS_ORIGIN=http://localhost:3000

# Manual Database (PostgreSQL)
POSTGRES_MANUAL_USER=manual_user
POSTGRES_MANUAL_PASSWORD=changeme_manual_db_password
POSTGRES_MANUAL_DB=manual_platform
POSTGRES_MANUAL_HOST=postgres-manual
POSTGRES_MANUAL_PORT=5432
MANUAL_DATABASE_URL=postgresql://${POSTGRES_MANUAL_USER}:${POSTGRES_MANUAL_PASSWORD}@${POSTGRES_MANUAL_HOST}:${POSTGRES_MANUAL_PORT}/${POSTGRES_MANUAL_DB}

# Manual Redis Cache
REDIS_MANUAL_HOST=redis-manual
REDIS_MANUAL_PORT=6379
REDIS_MANUAL_PASSWORD=changeme_manual_redis_password
REDIS_MANUAL_DB=0

# Manual Frontend
MANUAL_FRONTEND_PORT=3000
NEXT_PUBLIC_API_URL=http://localhost:8080/api/v1
NEXT_PUBLIC_WS_URL=ws://localhost:8080
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=changeme_nextauth_secret_min_32_chars

# Video Rendering
FFMPEG_THREADS=4
MAX_VIDEO_DURATION=600
MAX_VIDEO_SIZE_MB=500
VIDEO_OUTPUT_FORMAT=mp4
VIDEO_QUALITY=high

# =============================================================================
# AUTONOMOUS PLATFORM
# =============================================================================

# Autonomous Orchestrator
AUTONOMOUS_BACKEND_PORT=8000
AUTONOMOUS_ENV=development
AUTONOMOUS_API_VERSION=v1
AUTONOMOUS_CORS_ORIGIN=*
AUTONOMOUS_WORKERS=4

# Autonomous Database (PostgreSQL)
POSTGRES_AUTO_USER=auto_user
POSTGRES_AUTO_PASSWORD=changeme_auto_db_password
POSTGRES_AUTO_DB=autonomous_platform
POSTGRES_AUTO_HOST=postgres-auto
POSTGRES_AUTO_PORT=5432
AUTONOMOUS_DATABASE_URL=postgresql://${POSTGRES_AUTO_USER}:${POSTGRES_AUTO_PASSWORD}@${POSTGRES_AUTO_HOST}:${POSTGRES_AUTO_PORT}/${POSTGRES_AUTO_DB}

# Autonomous Redis Cache
REDIS_AUTO_HOST=redis-auto
REDIS_AUTO_PORT=6379
REDIS_AUTO_PASSWORD=changeme_auto_redis_password
REDIS_AUTO_DB=0

# Celery Task Queue
CELERY_BROKER_URL=redis://:${REDIS_AUTO_PASSWORD}@${REDIS_AUTO_HOST}:${REDIS_AUTO_PORT}/1
CELERY_RESULT_BACKEND=redis://:${REDIS_AUTO_PASSWORD}@${REDIS_AUTO_HOST}:${REDIS_AUTO_PORT}/2
CELERY_WORKERS=4
CELERY_MAX_TASKS_PER_CHILD=1000

# Ollama (Local LLM)
OLLAMA_HOST=ollama
OLLAMA_PORT=11434
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_MODEL=llama2
OLLAMA_GPU_LAYERS=35
OLLAMA_CONTEXT_SIZE=4096

# ComfyUI (Image Generation)
COMFYUI_HOST=comfyui
COMFYUI_PORT=8188
COMFYUI_BASE_URL=http://comfyui:8188
COMFYUI_GPU_ENABLED=true
COMFYUI_OUTPUT_DIR=/output

# Voice Synthesis
VOICE_PROVIDER=elevenlabs
ELEVENLABS_API_KEY=changeme_elevenlabs_api_key
ELEVENLABS_VOICE_ID=changeme_voice_id
COQUI_TTS_MODEL=tts_models/en/ljspeech/tacotron2-DDC
VOICE_OUTPUT_FORMAT=mp3
VOICE_SAMPLE_RATE=44100

# Avatar Generation
AVATAR_STYLE=realistic
AVATAR_RESOLUTION=1024x1024
AVATAR_OUTPUT_FORMAT=png

# Batch Processing
MAX_BATCH_SIZE=100
BATCH_TIMEOUT_SECONDS=3600
MAX_CONCURRENT_JOBS=10
RETRY_ATTEMPTS=3
RETRY_DELAY_SECONDS=5

# =============================================================================
# LOGGING & MONITORING
# =============================================================================

LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout

# Prometheus Metrics
METRICS_ENABLED=true
METRICS_PORT=9100

# Health Checks
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# SECURITY
# =============================================================================

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS
CORS_ENABLED=true
CORS_CREDENTIALS=true

# API Keys (for external integrations)
API_KEY_HEADER=X-API-Key
WEBHOOK_SECRET=changeme_webhook_secret

# =============================================================================
# DEVELOPMENT
# =============================================================================

DEBUG=false
DEVELOPMENT_MODE=false
MOCK_EXTERNAL_SERVICES=false

# =============================================================================
# PRODUCTION
# =============================================================================

# Domain Configuration
DOMAIN=localhost
PROTOCOL=http
ENABLE_HTTPS=false
SSL_CERT_PATH=/certs/fullchain.pem
SSL_KEY_PATH=/certs/privkey.pem

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=backups

# Scaling
AUTO_SCALE_ENABLED=false
MIN_REPLICAS=1
MAX_REPLICAS=10
TARGET_CPU_UTILIZATION=70
